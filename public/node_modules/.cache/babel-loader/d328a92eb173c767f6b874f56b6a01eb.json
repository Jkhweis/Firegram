{"ast":null,"code":"import _objectSpread from\"/Users/joykhalil/Desktop/React Projects/firegram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/joykhalil/Desktop/React Projects/firegram/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState,useEffect}from'react';import{projectFirestore}from'../firebase/config';import{collection,query,orderBy,onSnapshot}from'firebase/firestore';var useFirestore=function useFirestore(collectionName){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),docs=_useState2[0],setDocs=_useState2[1];useEffect(function(){var imageQuery=query(collection(projectFirestore,collectionName),orderBy('createdAt','desc'));var unsub=onSnapshot(imageQuery,function(snap){var images=[];snap.forEach(function(doc){images.push(_objectSpread(_objectSpread({},doc.data()),{},{id:doc.id}));});setDocs(images);});return function(){return unsub();};},[collection]);return{docs:docs};};export default useFirestore;","map":{"version":3,"sources":["/Users/joykhalil/Desktop/React Projects/firegram/src/hooks/useFirestore.js"],"names":["useState","useEffect","projectFirestore","collection","query","orderBy","onSnapshot","useFirestore","collectionName","docs","setDocs","imageQuery","unsub","snap","images","forEach","doc","push","data","id"],"mappings":"6UAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,gBAAT,KAAiC,oBAAjC,CACA,OAASC,UAAT,CAAqBC,KAArB,CAA4BC,OAA5B,CAAqCC,UAArC,KAAuD,oBAAvD,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,cAAD,CAAoB,eACfR,QAAQ,CAAC,EAAD,CADO,wCAChCS,IADgC,eAC1BC,OAD0B,eAGvCT,SAAS,CAAC,UAAM,CACd,GAAMU,CAAAA,UAAU,CAAGP,KAAK,CACtBD,UAAU,CAACD,gBAAD,CAAmBM,cAAnB,CADY,CAEtBH,OAAO,CAAC,WAAD,CAAc,MAAd,CAFe,CAAxB,CAIA,GAAMO,CAAAA,KAAK,CAAGN,UAAU,CAACK,UAAD,CAAa,SAACE,IAAD,CAAU,CAC7C,GAAMC,CAAAA,MAAM,CAAG,EAAf,CACAD,IAAI,CAACE,OAAL,CAAa,SAACC,GAAD,CAAS,CACpBF,MAAM,CAACG,IAAP,gCAAiBD,GAAG,CAACE,IAAJ,EAAjB,MAA6BC,EAAE,CAAEH,GAAG,CAACG,EAArC,IACD,CAFD,EAIAT,OAAO,CAACI,MAAD,CAAP,CACD,CAPuB,CAAxB,CASA,MAAO,kBAAMF,CAAAA,KAAK,EAAX,EAAP,CACD,CAfQ,CAeN,CAACT,UAAD,CAfM,CAAT,CAiBA,MAAO,CAAEM,IAAI,CAAJA,IAAF,CAAP,CACD,CArBD,CAuBA,cAAeF,CAAAA,YAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase/config';\nimport { collection, query, orderBy, onSnapshot } from 'firebase/firestore';\n\nconst useFirestore = (collectionName) => {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const imageQuery = query(\n      collection(projectFirestore, collectionName),\n      orderBy('createdAt', 'desc')\n    );\n    const unsub = onSnapshot(imageQuery, (snap) => {\n      const images = [];\n      snap.forEach((doc) => {\n        images.push({ ...doc.data(), id: doc.id });\n      });\n\n      setDocs(images);\n    });\n\n    return () => unsub();\n  }, [collection]);\n\n  return { docs };\n};\n\nexport default useFirestore;\n"]},"metadata":{},"sourceType":"module"}