{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { orderBy, onSnapshot, collection } from 'firebase/firestore';\nimport { projectFirestore } from '../firebase/config';\n\nconst useFirestore = collectionName => {\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const collectionRef = collection(projectFirestore, collectionName);\n    const unsubCol = orderBy(createdAt, desc);\n    onSnapshot(collectionRef, snapshot => {\n      let documents = [];\n      snapshot.docs.forEach(doc => {\n        documents.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocs(documents);\n    });\n    return () => unsubCol();\n  }, [collection]);\n  return {\n    docs\n  };\n};\n\nexport default useFirestore;","map":{"version":3,"sources":["/Users/joykhalil/Desktop/React Projects/firegram/src/hooks/useFirestore.js"],"names":["useState","useEffect","orderBy","onSnapshot","collection","projectFirestore","useFirestore","collectionName","docs","setDocs","collectionRef","unsubCol","createdAt","desc","snapshot","documents","forEach","doc","push","data","id"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,OAAT,EAAkBC,UAAlB,EAA8BC,UAA9B,QAAgD,oBAAhD;AACA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,MAAMC,YAAY,GAAIC,cAAD,IAAoB;AACvC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMS,aAAa,GAAGN,UAAU,CAACC,gBAAD,EAAmBE,cAAnB,CAAhC;AACA,UAAMI,QAAQ,GAAGT,OAAO,CAACU,SAAD,EAAYC,IAAZ,CAAxB;AACAV,IAAAA,UAAU,CAACO,aAAD,EAAiBI,QAAD,IAAc;AACtC,UAAIC,SAAS,GAAG,EAAhB;AACAD,MAAAA,QAAQ,CAACN,IAAT,CAAcQ,OAAd,CAAuBC,GAAD,IAAS;AAC7BF,QAAAA,SAAS,CAACG,IAAV,CAAe,EAAE,GAAGD,GAAG,CAACE,IAAJ,EAAL;AAAiBC,UAAAA,EAAE,EAAEH,GAAG,CAACG;AAAzB,SAAf;AACD,OAFD;AAGAX,MAAAA,OAAO,CAACM,SAAD,CAAP;AACD,KANS,CAAV;AAQA,WAAO,MAAMJ,QAAQ,EAArB;AACD,GAZQ,EAYN,CAACP,UAAD,CAZM,CAAT;AAcA,SAAO;AAAEI,IAAAA;AAAF,GAAP;AACD,CAlBD;;AAoBA,eAAeF,YAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { orderBy, onSnapshot, collection } from 'firebase/firestore';\nimport { projectFirestore } from '../firebase/config';\n\nconst useFirestore = (collectionName) => {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const collectionRef = collection(projectFirestore, collectionName);\n    const unsubCol = orderBy(createdAt, desc);\n    onSnapshot(collectionRef, (snapshot) => {\n      let documents = [];\n      snapshot.docs.forEach((doc) => {\n        documents.push({ ...doc.data(), id: doc.id });\n      });\n      setDocs(documents);\n    });\n\n    return () => unsubCol();\n  }, [collection]);\n\n  return { docs };\n};\n\nexport default useFirestore;\n"]},"metadata":{},"sourceType":"module"}