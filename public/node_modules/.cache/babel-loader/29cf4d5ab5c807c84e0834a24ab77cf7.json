{"ast":null,"code":"import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase/config';\nimport { collection, query, orderBy, onSnapshot } from 'firebase/firestore';\n\nconst useFirestore = collectionName => {\n  const [docs, setDocs] = useState([]);\n  useEffect(() => {\n    const imageQuery = query(collection(projectFirestore, collectionName), orderBy('createdAt', 'desc'));\n    const unsub = onSnapshot(imageQuery, snap => {\n      const images = [];\n      snap.forEach(doc => {\n        images.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocs(images);\n    });\n    return () => unsub();\n  }, [collection]);\n  return {\n    docs\n  };\n};\n\nexport default useFirestore;","map":{"version":3,"sources":["/Users/joykhalil/Desktop/React Projects/firegram/src/hooks/useFirestore.js"],"names":["useState","useEffect","projectFirestore","collection","query","orderBy","onSnapshot","useFirestore","collectionName","docs","setDocs","imageQuery","unsub","snap","images","forEach","doc","push","data","id"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,gBAAT,QAAiC,oBAAjC;AACA,SAASC,UAAT,EAAqBC,KAArB,EAA4BC,OAA5B,EAAqCC,UAArC,QAAuD,oBAAvD;;AAEA,MAAMC,YAAY,GAAIC,cAAD,IAAoB;AACvC,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMU,UAAU,GAAGP,KAAK,CACtBD,UAAU,CAACD,gBAAD,EAAmBM,cAAnB,CADY,EAEtBH,OAAO,CAAC,WAAD,EAAc,MAAd,CAFe,CAAxB;AAIA,UAAMO,KAAK,GAAGN,UAAU,CAACK,UAAD,EAAcE,IAAD,IAAU;AAC7C,YAAMC,MAAM,GAAG,EAAf;AACAD,MAAAA,IAAI,CAACE,OAAL,CAAcC,GAAD,IAAS;AACpBF,QAAAA,MAAM,CAACG,IAAP,CAAY,EAAE,GAAGD,GAAG,CAACE,IAAJ,EAAL;AAAiBC,UAAAA,EAAE,EAAEH,GAAG,CAACG;AAAzB,SAAZ;AACD,OAFD;AAIAT,MAAAA,OAAO,CAACI,MAAD,CAAP;AACD,KAPuB,CAAxB;AASA,WAAO,MAAMF,KAAK,EAAlB;AACD,GAfQ,EAeN,CAACT,UAAD,CAfM,CAAT;AAiBA,SAAO;AAAEM,IAAAA;AAAF,GAAP;AACD,CArBD;;AAuBA,eAAeF,YAAf","sourcesContent":["import { useState, useEffect } from 'react';\nimport { projectFirestore } from '../firebase/config';\nimport { collection, query, orderBy, onSnapshot } from 'firebase/firestore';\n\nconst useFirestore = (collectionName) => {\n  const [docs, setDocs] = useState([]);\n\n  useEffect(() => {\n    const imageQuery = query(\n      collection(projectFirestore, collectionName),\n      orderBy('createdAt', 'desc')\n    );\n    const unsub = onSnapshot(imageQuery, (snap) => {\n      const images = [];\n      snap.forEach((doc) => {\n        images.push({ ...doc.data(), id: doc.id });\n      });\n\n      setDocs(images);\n    });\n\n    return () => unsub();\n  }, [collection]);\n\n  return { docs };\n};\n\nexport default useFirestore;\n"]},"metadata":{},"sourceType":"module"}